<!-- edit_participant.html -->
{% extends "admin/base.html" %}

{% block content %}
<h2>Редактировать участника</h2>
<form method="POST">
    <div class="form-group">
        <label for="full_name">ФИО:</label>
        <input type="text" class="form-control" id="full_name" name="full_name" 
               value="{{ participant.full_name }}" required>
    </div>
    
    <div class="form-group">
        <label for="description">Описание:</label>
        <textarea class="form-control" id="description" name="description" 
                  rows="3">{{ participant.description }}</textarea>
    </div>
    
    <div class="form-group">
        <label for="contact">Контакты:</label>
        <input type="text" class="form-control" id="contact" name="contact" 
               value="{{ participant.contact }}" required>
    </div>
    
    <div class="form-group">
        <label for="status">Статус:</label>
        <select class="form-control" id="status" name="status" required>
            <option value="Здоров">Здоров</option>
            <option value="Тяжело ранен (демобилизирован)">Тяжело ранен (демобилизирован)</option>
            <option value="Пропал без вести">Пропал без вести</option>
            <option value="Погиб">Погиб</option>
        </select>
    </div>
    
    <div class="form-group">
        <label for="conflicts">Привязать к конфликтам:</label>
        <select multiple class="form-control" id="conflicts" name="conflicts">
            {% for conflict in all_conflicts %}
            <option value="{{ conflict.id }}" 
                    {% if conflict in participant.conflicts %}selected{% endif %}>
                {{ conflict.title }}
            </option>
            {% endfor %}
        </select>
        <small class="form-text text-muted">Удерживайте Ctrl для выбора нескольких</small>
    </div>
    
    <button type="submit" class="btn btn-primary">Сохранить изменения</button>
    <a href="{{ url_for('list_participants') }}" class="btn btn-secondary">Отмена</a>
</form>
{% endblock %}